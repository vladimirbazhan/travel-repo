<header/>
<form class="form-horizontal" >
    <fieldset>
        <legend>{{vm.legend}}
            <button class="btn btn-link" ng-show="{{vm.editMode && vm.signedIn}}" ng-click="vm.delete();">delete</button>
            <h5 class="text-right">Author: {{vm.trip.AuthorEmail}}</h5>
        </legend>
        <div class="form-group">
            <map class="col-lg-12" id="map_canvas" style="height: 480px; margin: 15px;" map="vm.map" options="vm.mapOptions"></map>
            <label for="inputName" class="col-lg-2 control-label">Trip name</label>
            <div class="col-lg-10">
                <input type="text" class="form-control" id="inputName" value="{{vm.trip.Name}}" ng-model="vm.trip.Name">
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-2"></label>
            <div class="col-lg-5">
                <label>Trip start: </label><br/>
                <input ui-date="vm.dateOptions" ui-date-format="DD, d MM, yy" ng-model="vm.trip.DateFrom">
            </div>
            <div class="col-lg-5">
                <label>Trip finish: </label><br />
                <input ui-date="vm.dateOptions" ui-date-format="DD, d MM, yy" ng-model="vm.trip.DateTo">
            </div>
        </div>
        <div class="form-group">
            <label for="textDescription" class="col-lg-2 control-label">Description</label>
            <div class="col-lg-10">
                <textarea class="form-control" rows="3" id="textDescription" ng-model="vm.trip.Description">{{vm.trip.Description}}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-lg-2 control-label">Sharing</label>
            <div class="col-lg-10">
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="vm.trip.IsPrivate" name="optionsSharing" ng-value="false">
                        Share this trip
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="vm.trip.IsPrivate" name="optionsSharing" ng-value="true" checked>
                        Make trip private
                    </label>
                </div>
            </div>
        </div>
      
        <photos photos="vm.trip.Photos"/>
      
        <ul class="list-group" ng-show="vm.photos.length > 0">
            <h4><b>Selected files: </b></h4>
            <li ng-repeat="photo in vm.photos" class="list-group-item">
                <span class="glyphicon glyphicon-picture"></span>
                &nbsp;{{photo.name}}
                <a href="" ng-click="vm.removeSelectedPhoto($index)"><span class="glyphicon glyphicon-remove"></span></a>
                <span>&nbsp;&nbsp;&nbsp;&nbsp;{{photo.uploadStatus || ''}}</span>
            </li>
        </ul>
      
        <div class="btn-file btn btn-xs btn-default">
            <span>Add photos</span>
            <input type="file" multiple accept="image/*" on-events="{event: 'change', handler: vm.onSelectedPhotosChanged }">
        </div>
        <br /><br />

    </fieldset>
  <trip-items ng-show="{{vm.editMode && vm.signedIn}}" items="vm.trip.tripItems"></trip-items>
    <div class="text-right">
        <button class="btn btn-default" onclick=" history.go(-1); ">Cancel</button>
        <button class="btn btn-primary" ng-click="vm.save();"><span class="glyphicon glyphicon-ok"></span>&nbsp;Save</button>
    </div>
</form>
<br />
<br />
<br />